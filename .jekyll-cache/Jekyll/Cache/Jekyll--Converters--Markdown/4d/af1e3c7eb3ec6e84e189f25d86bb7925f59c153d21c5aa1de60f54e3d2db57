I"e<h1 id="step-3--installing-arch-linux-base-packages">STEP 3 : Installing Arch Linux Base Packages</h1>

<p>Arch Linux adalah salah satu distribusi sistem operasi yang proses instalasinya membutuhkan koneksi internet untuk mengunduh paket-paket yang terdapat pada <em>server</em> repositori.</p>

<h2 id="31-mounting-partition">3.1 Mounting Partition</h2>

<p>Sebelum memasang <em>base package</em> terlebih dahulu kita akan memasang (<em>mounting</em>) dua partisi yang telah kita buat <code class="highlighter-rouge">/dev/sda1</code> dan <code class="highlighter-rouge">/dev/mapper/volume-root</code> pada partisi <code class="highlighter-rouge">/mnt</code> untuk proses instalasi.</p>

<p><em>Mount</em> partisi <code class="highlighter-rouge">/dev/mapper/volume-root</code> ke partisi <code class="highlighter-rouge">/mnt</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mount /dev/mapper/volume-root /mnt
</code></pre></div></div>

<!-- PERTANYAAN -->
<div class="blockquote-yellow">
<div class="blockquote-yellow-title">Mengapa bukan partisi /dev/sda2 yang dimount ke /mnt ?</div>
<p>Karena partisi <code>/dev/sda2</code> sudah kita enkripsi, kemudian kita dekripsi menjadi <code>/dev/mapper/volume-root</code>. Maka hanya partisi yang telah didekripsi yang dapat kita <i>mount</i> untuk di-<i>install</i> <code>base</code> <i>package</i>.</p>
</div>

<p>Membuat direktori <code class="highlighter-rouge">/boot</code> pada <code class="highlighter-rouge">/mnt/boot</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mkdir -p /mnt/boot
</code></pre></div></div>

<p><em>Mount</em> partisi <code class="highlighter-rouge">/dev/sda1</code> ke partisi <code class="highlighter-rouge">/mnt/boot</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mount /dev/sda1 /mnt/boot
</code></pre></div></div>

<!-- PERHATIAN -->
<div class="blockquote-red">
<div class="blockquote-red-title">[ ! ] Perhatian</div>
<p>Proses mounting di atas <b>harus berurutan</b> dan <b>tidak dapat dibolak-balik</b>. Misal, <i>mounting</i> <code>/boot</code> partisi terlebih dahulu. Apabila hal ini dilakukan akan menyebabkan <b>kegagalan saat instalasi bootloader</b>.</p>
</div>

<p>Setelah partisi yang kita siapkan telah kita <em>mounting</em>, langkah selanjutnya adalah kita akan menggunakan <code class="highlighter-rouge">pacstrap</code> <em>script</em> untuk menginstal <code class="highlighter-rouge">base</code> <em>package</em> Arch Linux.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># pacstrap /mnt base base-devel
</code></pre></div></div>

<p>Pada proses instalasi di atas saya menambahkan <code class="highlighter-rouge">base-devel</code> <em>package</em>. Proses instalasi ini akan berjalan lumayan lama. “Total <em>download size</em>” saat dokumentasi ini dibuat adalah 266.60 MiB.</p>

<p>Apabila proses <code class="highlighter-rouge">pacstrap</code> telah selesai, langkah selanjutnya ada <em>generate</em> <code class="highlighter-rouge">fstab</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># genfstab -U /mnt &gt; /mnt/etc/fstab
</code></pre></div></div>

<p>Perintah ini bertujuan untuk <em>mounting blok</em> partisi mana yang akan di-<em>mounted</em> saat sistem di-<em>bootup</em>.  Kita bisa mengecek apakah hasil dari <em>generate</em> <code class="highlighter-rouge">fstab</code> dengan perintah <code class="highlighter-rouge"># cat /mnt/etc/fstab</code>.</p>

<p>Hasil dari <em>generate</em> <code class="highlighter-rouge">fstab</code> tersebut adalah sebagai berikut :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
# /etc/fstab: static file system information
#
# &lt;file system&gt;    &lt;dir&gt;    &lt;type&gt;    &lt;options&gt;    &lt;dump&gt;    &lt;pass&gt;
# /dev/mapper/volume-root
UUID=56fdc3fa-8a1c-4d4e-a13f-4af99bf6ae6a    / ext4  rw,relatime,data=ordered    0 1

# /dev/sda1
UUID=3394-9E03 /boot vfat rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro    0 2
</code></pre></div></div>

<p>Kita dapat melihat <code class="highlighter-rouge">/dev/sda1</code> dan <code class="highlighter-rouge">/dev/mapper/volume-root</code>, artinya <em>mounting</em> partisi dan <em>generate</em> <code class="highlighter-rouge">fstab</code> telah berhasil dan benar. Karena apabila proses <em>mouting</em> pada Step 3.1 salah, maka hasil <em>generate</em> <code class="highlighter-rouge">fstab</code> juga akan salah. Misal, tidak terdapat partisi <code class="highlighter-rouge">/boot</code> yaitu <code class="highlighter-rouge">/dev/sda1</code>, maka apabila terjadi seperti ini, akan berdampak pada kegagalan saat proses instalasi <code class="highlighter-rouge">bootloader</code>.</p>

<p>Setelah kita selesai meng-<em>install</em> <em>base package</em>, langkah selanjutnya adalah konfigurasi komponen-komponen lain yang diperlukan oleh sistem operasi seperti <em>Bootloader</em>, <em>Time Zone</em>, <em>Locale</em>, <em>Hostname</em>, <em>Username</em>, <em>Passwords</em>, dll.</p>

<p>Untuk masuk ke dalam sistem yang sudah kita <em>install</em> kita akan berpindah dari <em>root</em> Arch <em>Installer</em> ke <em>root</em> Arch sistem yang baru saja kita buat.</p>

<p>Caranya dengan menggunakan <code class="highlighter-rouge">chroot</code> (<em>change root</em>).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># arch-chroot /mnt
</code></pre></div></div>

<p>Apabila perintah di atas berhasil, makan kalian dapat melihat perubahan pada <code class="highlighter-rouge">username</code> dan <code class="highlighter-rouge">hostname</code> yang terbungkus oleh tanda <code class="highlighter-rouge">[ ... ]</code>. Artinya kita telah masuk ke dalam <code class="highlighter-rouge">root</code> sistem yang baru saja kita <em>install</em>.</p>

<p>Sebelum <code class="highlighter-rouge">arch-chroot</code>.</p>
<pre>
<span style="color:red;">root</span>@archiso ~ #
</pre>

<p>Setelah <code class="highlighter-rouge">arch-chroot</code>.</p>
<pre>
[root@archiso /]#
</pre>

<p>Pada tahap ini, kita dapat bergerak ke <em>step</em> selanjutnya.</p>

<!-- NEXT PREV BUTTON -->
<div class="post-nav">
<a class="btn-blue-l" href="/arch/step-2-disk-partitioning"><img style="width:20px;" src="/assets/img/logo/logo_ap.png" /></a>
<a class="btn-blue-c" href="/arch/"><img style="width:20px;" src="/assets/img/logo/logo_menu.svg" /></a>
<a class="btn-blue-r" href="/arch/step-4-set-up-bootloader"><img style="width:20px;" src="/assets/img/logo/logo_an.png" /></a>
</div>
:ET