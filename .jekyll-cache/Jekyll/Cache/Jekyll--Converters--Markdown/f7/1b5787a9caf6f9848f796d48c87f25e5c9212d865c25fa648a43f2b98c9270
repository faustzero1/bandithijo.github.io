I"+<!-- BANNER OF THE POST -->
<!-- <img class="post&#45;body&#45;img" src="/assets/img/logo/logo_blank_banner.svg" data&#45;echo="#" alt="banner"> -->

<h1 id="prakata">Prakata</h1>

<p>Sejak masih menggunakan Arch Linux pada Macbook Pro 8.1, saya sudah tidak menggunakan <strong>GRUB</strong> sebagai <em>bootloader</em>, melainkan <strong>Gummiboot</strong>. Ini adalah kali pertama saya menggunakan <em>bootloader</em> ini, karena selama menggunakan distribusi sistem operasi yang lain, selalu menggunakan GRUB sebagai <em>default bootloader</em>.</p>

<p>Setelah menggunakan Thinkpad X260, saya pun memutuskan untuk menggunakan kembali <em>gummiboot</em> yang saat ini sudah berganti nama menjadi <strong>systemd-boot</strong>.</p>

<h3 id="alasan-menggunakan-systemd-boot">Alasan menggunakan systemd-boot?</h3>

<p>Mudah untuk saya konfigurasi. Karena sudah pernah mencobanya saat masih menggunakan Macbook Pro 8.1.</p>

<p>Sudah terdapat bersama paket <strong>systemd</strong>, tidak perlu menambahkan paket yang lain, seperti halnya GRUB. Jadi, kenapa tidak digunakan saja. Hehe. Mengikuti filosofi dari Arch Linux, <em>Keep It Simple Stupid</em>.</p>

<h3 id="apa-yang-menjadi-kekurangan-dari-systemd-boot">Apa yang menjadi kekurangan dari systemd-boot?</h3>

<p>Hanya dapat membaca/menjalankan EFI excutable seperti: Linux Kernel EFISTUB, UEFI Shell, GRUB, dan Windows Boot Manager.</p>

<h1 id="konfigurasi">Konfigurasi</h1>

<h2 id="satu-kernel">Satu Kernel</h2>

<p>Saat proses instalasi Arch Linux, saya hanya menggunakan satu buah kernel, yaitu kernel vanilla.</p>

<p>Saya akan menunjukkan isi dari konfigurasi file <code class="highlighter-rouge">/boot/loader/loader.conf</code> yang saya meiliki.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat /boot/loader/loader.conf
</code></pre></div></div>
<pre>
timeout 0
editor 0
default <mark>arch</mark>
</pre>
<p>Terlihat pada tanda yang saya <em>marking</em>, bahwa file loader ini akan memanggil file konfigurasi lain yang bernama <code class="highlighter-rouge">arch</code> yang merupakan kependekan dari <code class="highlighter-rouge">arch.conf</code>.</p>

<p>File ini berada pada <code class="highlighter-rouge">/boot/loader/entries/arch.conf</code>.</p>

<p>Saya akan menunjukkan isi dari konfigurasi file <code class="highlighter-rouge">arch.conf</code> yang saya gunakan.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>title    Arch Linux
linux    /vmlinuz-linux
initrd	 /intel-ucode.img
initrd   /initramfs-linux.img
options	 root=PARTUUID=327fd9bc-2e55-4649-b801-2b66819fe70b rw irqpoll hpet=disable
</code></pre></div></div>
<p>Di sini, saya hanya menggunakan satu buah kernel untuk dipanggil. Dapat dilihat pada bagian <code class="highlighter-rouge">initrd /initramfs-linux.img</code>.</p>

<p>Lantas bisa tidak apabila kita memasang dua kernel, misalkan kernel <code class="highlighter-rouge">linux-lts</code> dan menampilkan pilihannya pada <strong>systemd-boot</strong>?</p>

<p>Jawabannya, tentu saja bisa.</p>

<h2 id="menambahkan-pilihan-kernel">Menambahkan Pilihan Kernel</h2>

<p>Untuk menambahkan pilihan kernel pada systemd-boot caranya cukup mudah.</p>

<p>Hanya tinggal membuat file konfigurasi satu lagi pada direktori <code class="highlighter-rouge">/boot//loader/entries</code>. Misalnya file ini akan saya beri nama <code class="highlighter-rouge">arch-lts.conf</code>.</p>

<p>Saya asumsikan teman-teman sudah memasang linux kernel satu lagi. Misal dalam kasus saya <code class="highlighter-rouge">linux-lts</code>.</p>

<p>Kita tinggal mengambil contekan dasarnya dari file <code class="highlighter-rouge">arch.conf</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd /boot/loader/entries
$ sudo cp arch.conf arch-lts.conf
</code></pre></div></div>
<p>Nanti, akan terbuat file baru dengan nama <code class="highlighter-rouge">arch-lts.conf</code>.</p>

<p>Selanjutnya kita perlu memodifikasi nama dari beberapa value yang ada di dalam file konfigurasi ini.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo vim /boot/loader/entries/arch-lts.conf
</code></pre></div></div>
<pre>
<mark>title    Arch Linux LTS</mark>
<mark>linux    /vmlinuz-linux-lts</mark>
initrd	 /intel-ucode.img
<mark>initrd   /initramfs-linux-lts.img</mark>
options	 root=PARTUUID=327fd9bc-2e55-4649-b801-2b66819fe70b rw irqpoll hpet=disable
</pre>
<p>Pada bagian yang saya <em>marking</em>, adalah bagian-bagian yang saya rubah dengan nama kernel yang saya gunakan. Dalam hal ini <code class="highlighter-rouge">linux-lts</code>.</p>

<pre>
/boot/loader/
.
â”œâ”€â”€ entries
â”‚Â Â  â”œâ”€â”€ <mark>arch.conf</mark>
â”‚Â Â  â””â”€â”€ <mark>arch-lts.conf</mark>
â””â”€â”€ loader.conf
</pre>

<p>Apabila kita ingin menggunakan kernel <code class="highlighter-rouge">zen</code>, tinggal diganti atau ditambahkan lagi file konfigurasinya saja.</p>

<p>Sangat <em>easy busy</em> bukan?</p>

<!-- PERTANYAAN -->
<div class="blockquote-yellow">
<div class="blockquote-yellow-title">Apakah Maksud dari RW, IRQPOLL, dll yang Berada pada Akhir Baris Options?</div>
<p>Maksud dari nilai-nilai tersebut adalah, <b>Kernel Parameters</b>.</p>
<p>Sangat mudah sekali untuk menambahkan kernel parameter pada systemd-boot.</p>
<p>Hanya seperti itu saja, dengan menambahkan nilai-nilai parameter yang ingin kita gunakan pada akhir dari baris <code>options</code>.</p>
</div>

<h1 id="cara-menggunakannya">Cara Menggunakannya</h1>

<p>Karena saya menggunkaan nilai <code class="highlighter-rouge">timeout</code> pada konfigurasi <code class="highlighter-rouge">/boot/loader/loader.conf</code> bernilai <code class="highlighter-rouge">0</code>. Hal ini menyebabkan menu dari pilihan kernel tidak akan ditampilkan. Saya melakukan ini karena saya tidak memerlukan untuk selalu melihat pilihan ini.</p>

<p>Lantas, untuk melihat pilihan menu kernel dari systemd-boot, cukup dengan menekan berulang-kali tombol <kbd>SPACE</kbd>.</p>

<h1 id="tips-menambah-kernel">Tips Menambah Kernel</h1>

<p>Beberapa bulan terakhir ini banyak dari teman-teman yang saya dapati baru bermigrasi menggunakan Arch Linux.</p>

<p>Saya akan membagikan tips sebagai pengguna yang lebih dahulu mencicipi Arch Linux sejak pertengahan 2016.</p>

<h2 id="jangan-sekedar-menambahkan-kernel">Jangan Sekedar Menambahkan Kernel</h2>

<p>Apabila teman-teman ingin menggunakan kernel selain kernel <code class="highlighter-rouge">linux</code>, jangan sekedar menambahkan paket kernelnya saja. Ada beberapa hal yang setidaknya perlu teman-teman perhatiakan.</p>

<h3 id="kernel-headers">Kernel Headers</h3>

<p>Apabila teman-teman menggukanan VirtualBox, aplikasi ini membutuhkan <strong>Kernel Headers</strong>. Tentu saja VirtualBox akan menampilkan pesan-pesan merah pada proses <em>booting</em> apabila teman-teman tidak memasang kernel headers.</p>

<p>Setiap dari paket kernel, memiliki kernel headers masing-masing.</p>

<p>Misal:</p>
<ol>
  <li>Kernel: <code class="highlighter-rouge">linux</code>, Headers: <code class="highlighter-rouge">linux-headers</code></li>
  <li>Kernel: <code class="highlighter-rouge">linux-lts</code>, Headers: <code class="highlighter-rouge">linux-lts-headers</code></li>
  <li>dll.</li>
</ol>

<p>Jadi, <mark>jangan lupa!</mark> untuk memasang paket kernel headers nya juga.</p>

<h3 id="virtualbox-host-module">VirtualBox Host Module</h3>

<p>Masih berhubungan dengan aplikasi VirtualBox. Apabila teman-teman menggunakan Arch Linux sebagai host untuk VirtualBox, jangan lupa untuk menambahkan paket bernama <code class="highlighter-rouge">virtualbox-host-modules-arch</code>, ini untuk teman-teman yang menggunakan kernel <code class="highlighter-rouge">linux</code>.</p>

<p>Namun, untuk yang menggunakan kernel <mark>selain</mark> <code class="highlighter-rouge">linux</code>, misal <code class="highlighter-rouge">linux-lts</code>, <code class="highlighter-rouge">linux-zen</code>, <code class="highlighter-rouge">linux-ck</code>, dll. Paket host module yang digunakan adalah <code class="highlighter-rouge">virtualbox-host-dkms</code>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><center>VirtualBox Host Modules</center></th>
      <th style="text-align: left"><center>Kernel yang Digunakan</center></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">virtualbox-host-modules-arch</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">linux</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">virtualbox-host-dkms</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">linux-lts</code>, <code class="highlighter-rouge">linux-zen</code>, <code class="highlighter-rouge">linux-ck</code></td>
    </tr>
  </tbody>
</table>

<h3 id="acpi-module">ACPI Module</h3>

<p>Tidak hanya paket VirtualBox saja yang membutuhkan module yang berbeda apabila kita menggunakan kernel selain <code class="highlighter-rouge">linux</code>. ACPI juga memmerlukan module yang berbeda.</p>

<p>Langsung saja saya berikan tabelnya agar mudah dipahami.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><center>ACPI Modules</center></th>
      <th style="text-align: left"><center>Kernel yang Digunakan</center></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">acpi_call</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">linux</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">acpi_call-dkms</code></td>
      <td style="text-align: left"><code class="highlighter-rouge">linux-lts</code>, <code class="highlighter-rouge">linux-zen</code>, <code class="highlighter-rouge">linux-ck</code></td>
    </tr>
  </tbody>
</table>

<h1 id="pesan-penulis">Pesan Penulis</h1>

<p>Tidak bosan-bosan saya mengingatkan,</p>

<p>Sebaik-baik dokumentasi adalah dokumentasi yang ditulis/dibuat langsung oleh developer pengembang dari aplikasi/distribusi yang bersangkutan.</p>

<p>Tulisan ini bukan untuk memberikan tandingan dari dokumentasi resmi yang sudah ada, melainkan sebagai ulasan dan catatan pribadi hasil berekplorasi saya terhadap aplikasi/distribusi yang saya pergunakan sehari-hari.</p>

<p>Apabila terdapat kekeliruan pada tulisan ini, silahkan merujuk pada sumber-sumber referensi yang sudah saya sertakan di bawah.</p>

<p>Sepertinya segini saja catatan mengenai <strong>systemd-boot</strong>.</p>

<p>Mudah-mudahan dapat bermanfaat bagi teman-teman yang memerlukan.</p>

<h1 id="referensi">Referensi</h1>

<ol>
  <li>
    <p><a href="https://wiki.archlinux.org/index.php/Arch_boot_process#Boot_loader" target="_blank">wiki.archlinux.org/index.php/Arch_boot_process#Boot_loader</a>
<br />Diakses tanggal: 2019/02/13</p>
  </li>
  <li>
    <p><a href="https://wiki.archlinux.org/index.php/Systemd-boot" target="_blank">wiki.archlinux.org/index.php/Systemd-boot</a>
<br />Diakses tanggal: 2019/02/13</p>
  </li>
</ol>

:ET