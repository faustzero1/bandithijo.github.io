I"Ï<!-- BANNER OF THE POST -->
<!-- <img class="post&#45;body&#45;img" src="/assets/img/logo/logo_blank_banner.svg" data&#45;echo="#" alt="banner"> -->

<h1 id="prakata">Prakata</h1>

<p>Kemarin, 2019/03/17, ada salah satu anggota group Telegram BGLI (Belajar GNU/Linux Indonesia) menanyakan perihal ini.</p>

<p><img src="/assets/img/logo/logo_blank.svg" alt="gambar_1" data-echo="https://i.postimg.cc/N0n68vqS/gambar-01.png" /></p>
<p class="img-caption">Pertanyaan oleh: <b>./XiongXong @sandy147</b></p>

<p>Sebelumnya saya tidak pernah mencobanya. Jadi tidak pernah terpikirkan sebelumnya.</p>

<p>Mungkin saja, untuk kebutuhan membuat username anggota dari kursusan, seperti NolSatu yang saya ikuti pertengahan 2018 kemarin. Membuat 50 user di dalam sebuah sistem. Kalau manual, memang berasa tekor juga.</p>

<p>Karena sepintas saya membayangkan bagaimana caranya untuk dapat menyelesaikan â€œpermasalahanâ€ ini. Lantas, saya pun iseng mencoba menyelesaikannya.</p>

<p>Berhubung saya tidak terlalu mengerti banyak tetang Shell script, saya mengkombinasikan dengan Python yang juga baru mengerti sedikit-sedikit.</p>

<h1 id="eksekusi">Eksekusi</h1>

<h2 id="algoritma">Algoritma</h2>

<p>Alur program yang terpikirkan oleh saya adalah seperti ini:</p>

<ol>
  <li>Meminta inputan kepada user, berapa banyak jumlah user baru yang ingin dibuat.</li>
  <li>Mengulang-ulang perintah pembuatan user baru sesuai dengan jumlah yang diinputkan oleh user.</li>
</ol>

<p><img src="/assets/img/logo/logo_blank.svg" alt="gambar_2" data-echo="https://i.postimg.cc/0jQVk0v1/gambar-02.png" /></p>

<h2 id="ngoding">Ngoding</h2>

<p>Command atau perintah inti untuk membuat user baru beserta direktori home pada sistem operasi GNU/Linux, adalah:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo useradd -m -g users -G &lt;groups1,groups2,groups3,dst&gt; &lt;username&gt;
</code></pre></div></div>

<p>Nah, langsung saja kita kodingin.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">userDibuat</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">'Masukkan jumlah user yang ingin dibuat: '</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">userDibuat</span><span class="p">)</span>

<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">userDibuat</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">username</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">f</span><span class="s">'Masukkan USERNAME untuk user ke-{user} : '</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
        <span class="n">f</span><span class="s">'''
        sudo useradd -m -g users -G sudo,storage,power,input,network {username}
        '''</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'Username:'</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="s">'Berhasil ditambahkan !'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'&gt;&gt; SELESAI MAS BROH !'</span><span class="p">)</span>
</code></pre></div></div>

<p>Simpan script dengan sembarang nama, jangan lupa berikan ekstensi <code class="highlighter-rouge">.py</code>.</p>

<p>Saya memberikan nama <code class="highlighter-rouge">createmultipleuser.py</code>.</p>

<p>Lalu jalankan dengan menggunakan sudo permission karena kita akan menggunakan perintah <code class="highlighter-rouge">useradd</code> di dalam script.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo python createmultipleuser.py
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Masukkan jumlah user yang ingin dibuat: 3
3
Masukkan USERNAME untuk user ke-1 : aiman
Username: aiman Berhasil ditambahkan !
Masukkan USERNAME untuk user ke-2 : budiman
Username: budiman Berhasil ditambahkan !
Masukkan USERNAME untuk user ke-3 : seniman
Username: seniman Berhasil ditambahkan !
&gt;&gt; SELESAI MAS BROH !
</code></pre></div></div>

<h2 id="pengecekan">Pengecekan</h2>

<p>Untuk melakukan pengecekan apakah user-user baru sudah berhasil dibuat atau tidak.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ awk -F'[/:]' '{if ($3 &gt;= 1000 &amp;&amp; $3 != 65534) print $1}' /etc/passwd
</code></pre></div></div>

<pre>
bandithijo
<mark>aiman
budiman
seniman</mark>
</pre>

<p>Cek pula, apakah direktori home dari masing-masing user yang baru, sudah berhasil dibuat.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ tree -dL 1 /home
</code></pre></div></div>

<pre>
/home
â”œâ”€â”€ <mark>aiman</mark>
â”œâ”€â”€ bandithijo
â”œâ”€â”€ <mark>budiman</mark>
â””â”€â”€ <mark>seniman</mark>
</pre>

<p>Mantap, maka proses pembuatan <em>multiple user</em> dengan Python script ini telah selesai.</p>

<p>Untuk menghapusnya, dapat menggunakan.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo userdel -rf &lt;username&gt;
</code></pre></div></div>

<h1 id="pesan-penulis">Pesan Penulis</h1>

<p>Saya benar-benar menikmati proses dalam mempelajari bahasa pemrograman Python karena dapat sembari saya manfaatkan dan pergunakan dalam aktifitas sehari-hari untuk memecahkan keinginan, ide-ide, maupun permasalahan-permasalahan yang muncul dalam menggunakan sistem operasi GNU/Linux.</p>

<p>Kalau temen-temen sedang belajar pemrograman juga, yuk! jangan malu-malu untuk mencoba menyelesaikan masalah-masalah sederhana yang ada di sekitar kita.</p>

<p>Saya sendiri masih level Taman Kanak-kanak, hehe.</p>

<p>Sepertinya seperti ini saja.</p>

<p>Terima kasih.</p>

<h1 id="referensi">Referensi</h1>

<ol>
  <li><a href="https://bandithijo.com/arch/step-6-create-user-password-and-hostname#61-user-and-password" target="_blank">BanditHijo.Com/Arch - Step 6: Create User, Password, and Hostname</a>
<br />Diakses tanggal: 2019/03/18</li>
</ol>

:ET