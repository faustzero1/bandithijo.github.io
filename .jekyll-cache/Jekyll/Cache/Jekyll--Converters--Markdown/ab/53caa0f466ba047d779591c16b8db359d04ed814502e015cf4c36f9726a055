I"<!-- BANNER OF THE POST -->
<!-- <img class="post&#45;body&#45;img" src="/assets/img/logo/logo_blank_banner.svg" data&#45;echo="#" alt="banner"> -->

<h1 id="prakata">Prakata</h1>

<p>Jekyll 4.0.0 akhirnya dirilis pada tanggal 20 Agustus 2019.</p>

<p>Mengenai fitur-fitur serta perbaikan apa saja yang dibawa oleh Jekyll 4.0.0 ini, bisa teman-teman baca sendiri yaa pada halaman Jekyll News <a href="https://jekyllrb.com/news/2019/08/20/jekyll-4-0-0-released/" target="_blank">di sini</a>.</p>

<p>Langsung saja, saya akan menceritakan proses upgrade BanditHijo.com dari Jekyll 3.8.6 ke 4.0.0.</p>

<h1 id="proses-upgrade">Proses Upgrade</h1>

<p>Saya akan menceritakan runut berdasarkan kronologi yang saya lakukan.</p>

<h2 id="upgrade-jekyll">Upgrade Jekyll</h2>

<p>Untuk dapat menggunakan Jekyll 4.0.0, minimal saya harus memiliki Ruby versi 2.4.0.</p>

<p>Cara mengeceknya.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ruby -v
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby 2.6.2p47 (2019-03-13 revision 67232) [x86_64-linux]
</code></pre></div></div>

<div class="blockquote-blue">
<div class="blockquote-blue-title">[ i ] Informasi</div>
<p>Seharusnya saat tulisan ini dibuat, versi Ruby yang paling terbaru adalah,
<pre>
ruby 2.6.3p62 (2019-04-16 revision 67580) [x86_64-linux]
</pre>
Namun, karena satu dan lain hal, salah satunya untuk kebutuhan deploy di Netlify, saya hanya dapat menggunakan Ruby versi,
<pre>
ruby 2.6.2p47 (2019-03-13 revision 67232) [x86_64-linux]
</pre></p>
</div>

<p>Selanjutnya tinggal upgrade Jekyll gem.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem update jekyll
</code></pre></div></div>

<h2 id="edit-gemfile">Edit Gemfile</h2>

<p>Langkah selanjutnya, saya perlu mengedit Gemfile yang ada di dalam root project.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ vim Gemfile
</code></pre></div></div>

<p>Hal yang paling utama adalah, mengganti versi dari <code class="highlighter-rouge">jekyll</code> gem, menjadi versi 4.0.0.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem 'jekyll', '~&gt; 4.0.0'
</code></pre></div></div>

<p>Selanjutnya, upgrade plugin gem.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>group :jekyll_plugins do
  gem 'rouge',                          '~&gt; 3.3'
  gem 'jekyll-toc',                     '~&gt; 0.9.1'
  gem 'jekyll-feed',                    '~&gt; 0.12.1'
  gem 'jekyll-sitemap',                 '~&gt; 1.3.1'
  gem 'jekyll-seo-tag',                 '~&gt; 2.6.1'
  gem 'jekyll-pwa-plugin',              '~&gt; 2.2'
  gem 'jekyll-last-modified-at',        '~&gt; 1.1.0'
end
</code></pre></div></div>

<p>Perlu diperhatikan, karena saya menggunakan cukup banyak plugin pendukung, maka untuk dapat mengupgrade versi jekyll pada BanditHijo.com ini sangat bergantung pada dependensi dari plugin-plugin gem tersebut.</p>

<p>Maksud saya, apabila ada salah satu atau beberapa dari plugin tersebut yang membatasi pengunannya hanya pada jekyll versi 3.0, maka project BanditHijo.com belum dapat diupgrade ke jekyll versi 4.0. Karena belum semua plugin menambahkan jekyll 4.0 pada gemspec mereka.</p>

<p>Karena masalah dependensi tersebut, menjadi salah satu yang mendasari mengapa saya molor dan menunggu untuk mengupgrade versi Jekyll pada BanditHijo.com.</p>

<p>Setelah itu, jalankan perintah Bundle Update.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ bundle update
</code></pre></div></div>

<p>Dengan begini, proses update versi Jekyll yang ada di project BanditHijo.com telah selesai.</p>

<h1 id="tambahan">Tambahan</h1>

<p>Sebelumnya, saya menggunakan plugin <a href="https://github.com/jayvdb/jekyll-netlify/" target="_blank"><strong>jekyll-netlify</strong></a>, yang saya manfaatkan untuk mengeset environment <code class="highlighter-rouge">site.environment=production</code> pada Netlify.</p>

<p>Karena ada beberapa bagian pada template yang perlu saya pisahkan antara <em>development</em> dan <em>production</em>, misalnya Google Analytics dan Disqus Comments.</p>

<p>Namun sepertinya gem ini belum mengupgrade gemspec mereka, jadi dengan senang hati saya <em>takedown</em> dari daftar Gemfile yang digunakan BanditHijo.com.</p>

<p>Kemudian, saya mendapati bahwa untuk Jekyll, kita sudah dapat mengeset <strong>Environment variables</strong> pada Netlify. Seingat saya, diawal-awal saya menggunakan Netlify, memang belum bisa, maka dari itu saya menggunakan bantuan gem jekyll-netlify.</p>

<p><img src="/assets/img/logo/logo_blank.svg" alt="gambar_1" data-echo="https://i.postimg.cc/dVH7Tggr/gambar-01.png" /></p>
<p class="img-caption">Gambar 1 - Netlify Deploy Environment Variables</p>

<p>Yay! Dengan begini, mendeploy Jekyll project pada Netlify sudah sangat enak sekali.</p>

<p>Sekian cerita proses upgrade Jekyll 4 ini.</p>

<p>Mudah-mudahan dapat bermanfaat buat teman-teman.</p>

<p>Terima kasih (^_^)v</p>

<h1 id="referensi">Referensi</h1>

<ol>
  <li>
    <p><a href="https://jekyllrb.com/docs/upgrading/3-to-4/" target="_blank">Upgrading from 3.x to 4.x</a>
<br />Diakses tanggal: 2019/10/16</p>
  </li>
  <li>
    <p><a href="https://jekyllrb.com/news/2019/08/20/jekyll-4-0-0-released/" target="_blank">Jekyll 4.0.0 Released</a>
<br />Diakses tanggal: 2019/10/16</p>
  </li>
</ol>
:ET